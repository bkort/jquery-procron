!function(r){"use strict";var o='<div class="procron-select-period"><label></label><select class="procron-period-select"></select></div>',l='<div class="procron-input procron-start-time">Start time <select class="procron-clock-hour"></select>:<select class="procron-clock-minute"></select></div>',c='<div class="procron-input"></div>',t={tag:"procron-minutes",inputs:['<p>Every <select class="procron-minutes-select"></select> minutes(s)</p>']},a={tag:"procron-hourly",inputs:['<p><input type="radio" name="hourlyType" value="every"> Every <select class="procron-hourly-select"></select> hour(s)</p>','<p><input type="radio" name="hourlyType" value="clock"> Every day at <select class="procron-hourly-hour"></select>:<select class="procron-hourly-minute"></select></p>']},i={tag:"procron-daily",inputs:['<p><input type="radio" name="dailyType" value="every"> Every <select class="procron-daily-select"></select> day(s)</p>','<p><input type="radio" name="dailyType" value="clock"> Every week day</p>']},s={tag:"procron-weekly",inputs:['<p><input type="checkbox" name="dayOfWeekMon"> Monday  <input type="checkbox" name="dayOfWeekTue"> Tuesday  <input type="checkbox" name="dayOfWeekWed"> Wednesday  <input type="checkbox" name="dayOfWeekThu"> Thursday</p>','<p><input type="checkbox" name="dayOfWeekFri"> Friday  <input type="checkbox" name="dayOfWeekSat"> Saturday  <input type="checkbox" name="dayOfWeekSun"> Sunday</p>']},y={tag:"procron-monthly",inputs:['<p><input type="radio" name="monthlyType" value="byDay"> Day <select class="procron-monthly-day"></select> of every <select class="procron-monthly-month"></select> month(s)</p>','<p><input type="radio" name="monthlyType" value="byWeek"> The <select class="procron-monthly-nth-day"></select> <select class="procron-monthly-day-of-week"></select> of every <select class="procron-monthly-month-by-week"></select> month(s)</p>']},d={tag:"procron-yearly",inputs:['<p><input type="radio" name="yearlyType" value="byDay"> Every <select class="procron-yearly-month"></select> <select class="procron-yearly-day"></select></p>','<p><input type="radio" name="yearlyType" value="byWeek"> The <select class="procron-yearly-nth-day"></select> <select class="procron-yearly-day-of-week"></select> of <select class="procron-yearly-month-by-week"></select></p>']},u=e(["Minutes","Hourly","Daily","Weekly","Monthly","Yearly"]),h=n(1,60),f=n(1,24),m=n(1,100),v=n(0,59,!0),k=n(0,23,!0),b=n(1,31),$=e(["January","February","March","April","May","June","July","August","September","October","November","December"],[1,2,3,4,5,6,7,8,9,10,11,12]),g=n(1,12),T=e(["First","Second","Third","Forth"],[1,2,3,4]),w=e(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],["MON","TUE","WED","THU","FRI","SAT","SUN"]);function e(e,n){for(var o="",r=0;r<e.length;r++){var l=e[r];null!=n&&(l=n[r]),o+="<option value='"+l+"'>"+e[r]+"</option>\n"}return o}function n(e,n,o){for(var r="",l=e;l<=n;l++)r+="<option value='"+l+"'>"+(o&&l<10?"0"+l:l)+"</option>\n";return r}function W(e,n,o){r(c).addClass(n.tag).appendTo(e),e.children("."+n.tag).append(n.inputs),"function"==typeof o&&o()}var O=function(){var e=r(this).val(),n=r(this).parent();switch(n.siblings("div.procron-input").hide(),n.siblings().find("select option").removeAttr("selected"),n.siblings().find("select option:first").attr("selected","selected"),n.siblings("div.procron-start-time").show(),n.siblings("div.procron-start-time").children("select.procron-clock-hour").val("12"),e){case"Minutes":n.siblings("div.procron-minutes").show().find("select.procron-minutes-select").val("1"),n.siblings("div.procron-start-time").hide();break;case"Hourly":e=n.siblings("div.procron-hourly");e.show().find("input[name=hourlyType][value=every]").prop("checked",!0),e.find("select.procron-hourly-hour").val("12"),n.siblings("div.procron-start-time").hide();break;case"Daily":n.siblings("div.procron-daily").show().find("input[name=dailyType][value=every]").prop("checked",!0);break;case"Weekly":n.siblings("div.procron-weekly").show().find("input[type=checkbox]").prop("checked",!1);break;case"Monthly":n.siblings("div.procron-monthly").show().find("input[name=monthlyType][value=byDay]").prop("checked",!0);break;case"Yearly":n.siblings("div.procron-yearly").show().find("input[name=yearlyType][value=byDay]").prop("checked",!0)}};r.procronBuilder=function(e,n){var p=this;p.$el=r(e),p.el=e,p.$el.data("procronBuilder",p),p.init=function(){p.options=r.extend({},r.procronBuilder.defaultOptions,n),p.$el.append(o),p.$el.find("div.procron-select-period label").text(p.options.selectorLabel),p.$el.find("select.procron-period-select").append(u).bind("change",O),W(p.$el,t,function(){p.$el.find("select.procron-minutes-select").append(h)}),W(p.$el,a,function(){p.$el.find("select.procron-hourly-select").append(f),p.$el.find("select.procron-hourly-hour").append(k),p.$el.find("select.procron-hourly-minute").append(v)}),W(p.$el,i,function(){p.$el.find("select.procron-daily-select").append(m)}),W(p.$el,s),W(p.$el,y,function(){p.$el.find("select.procron-monthly-day").append(b),p.$el.find("select.procron-monthly-month").append(g),p.$el.find("select.procron-monthly-nth-day").append(T),p.$el.find("select.procron-monthly-day-of-week").append(w),p.$el.find("select.procron-monthly-month-by-week").append(g)}),W(p.$el,d,function(){p.$el.find("select.procron-yearly-month").append($),p.$el.find("select.procron-yearly-day").append(b),p.$el.find("select.procron-yearly-nth-day").append(T),p.$el.find("select.procron-yearly-day-of-week").append(w),p.$el.find("select.procron-yearly-month-by-week").append($)}),p.$el.append(l),p.$el.find("select.procron-clock-hour").append(k),p.$el.find("select.procron-clock-minute").append(v),"function"==typeof p.options.onChange&&p.$el.find("select, input").change(function(){p.options.onChange(p.getExpression())}),p.$el.find("select.procron-period-select").triggerHandler("change")},p.getExpression=function(){var e,n="*",o="*",r="*",l=p.$el.find("select.procron-clock-minute").val(),c=p.$el.find("select.procron-clock-hour").val();switch(p.$el.find("select.procron-period-select").val()){case"Minutes":var t=(a=p.$el.find("div.procron-minutes")).find("select.procron-minutes-select").val(),l=1<t?"0/"+t:"*",c="*";break;case"Hourly":(a=p.$el.find("div.procron-hourly")).find("input[name=hourlyType][value=every]").is(":checked")?(l=0,c="*",1<(t=a.find("select.procron-hourly-select").val())&&(c="0/"+t)):(l=a.find("select.procron-hourly-minute").val(),c=a.find("select.procron-hourly-hour").val());break;case"Daily":(a=p.$el.find("div.procron-daily")).find("input[name=dailyType][value=every]").is(":checked")?1<(i=a.find("select.procron-daily-select").val())&&(r="1/"+i):(r="*",n="MON-FRI");break;case"Weekly":var a,i=[];(a=p.$el.find("div.procron-weekly")).find("input[name=dayOfWeekMon]").is(":checked")&&i.push("MON"),a.find("input[name=dayOfWeekTue]").is(":checked")&&i.push("TUE"),a.find("input[name=dayOfWeekWed]").is(":checked")&&i.push("WED"),a.find("input[name=dayOfWeekThu]").is(":checked")&&i.push("THU"),a.find("input[name=dayOfWeekFri]").is(":checked")&&i.push("FRI"),a.find("input[name=dayOfWeekSat]").is(":checked")&&i.push("SAT"),a.find("input[name=dayOfWeekSun]").is(":checked")&&i.push("SUN"),r=n="*",i.length<7&&0<i.length&&(n=i.join(","));break;case"Monthly":(a=p.$el.find("div.procron-monthly")).find("input[name=monthlyType][value=byDay]").is(":checked")?(o="*",e=a.find("select.procron-monthly-month").val(),r=a.find("select.procron-monthly-day").val(),n="*"):(n=a.find("select.procron-monthly-day-of-week").val()+"#"+a.find("select.procron-monthly-nth-day").val(),e=a.find("select.procron-monthly-month-by-week").val(),r="*"),1<e&&(o="1/"+e);break;case"Yearly":(a=p.$el.find("div.procron-yearly")).find("input[name=yearlyType][value=byDay]").is(":checked")?(r=a.find("select.procron-yearly-day").val(),o=a.find("select.procron-yearly-month").val(),n="*"):(n=a.find("select.procron-yearly-day-of-week").val()+"#"+a.find("select.procron-yearly-nth-day").val(),o=a.find("select.procron-yearly-month-by-week").val(),r="*")}return[l,c,r,o,n].join(" ")},p.init()},r.procronBuilder.defaultOptions={selectorLabel:"Select period: "},r.fn.procronBuilder=function(e){return this.each(function(){new r.procronBuilder(this,e)})}}(jQuery);
//# sourceMappingURL=jquery-procron.min.js.map
